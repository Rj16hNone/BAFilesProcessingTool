# BAFilesProcessingTool

一个多功能文件处理工具，专为游戏资源处理而设计

## 功能特点

1. **资源提取**：基于 AssetStudio 的资源提取工具，支持提取游戏中的各种资源类型
   - 支持提取 Texture2D、Sprite、Model、AudioClip、TextAsset、AnimationClip、GameObject 等资源
   - 支持提取 Live2D Cubism models
   - 支持打包输出为 ZIP 文件
   - 自动检测 .NET 版本并选择合适的 AssetStudio 版本

2. **音频文件提取**：从游戏中的 .b 文件中提取音频，转换为常见的音频格式
   - 支持批量提取多个 .b 文件中的音频
   - 支持提取为 wav、mp3、ogg、flac 等多种音频格式
   - 操作简单，一键完成提取

3. **静态立绘合成工具**：处理静态立绘文件，包括文件匹配、移动等操作
   - 自动匹配立绘 PNG 文件和 Painting 文件
   - 提供一键拼装工具，方便快速组装立绘
   - 支持操作回滚，确保数据安全

4. **设置**：自定义应用程序设置，包括外观、背景等
   - 支持自定义背景图片、透明度和模糊度
   - 支持窗口置顶设置
   - 提供免责声明查看

## 安装与运行

### 方法一：直接运行可执行文件（推荐）

1. 解压发布版压缩包到任意目录
2. 双击 `BAFilesProcessingTool.exe` 文件即可运行

### 方法二：从源代码运行

1. 确保已安装 Python 3.7+
2. 安装所需的依赖：

```bash
pip install -r requirements.txt
```

3. 在项目目录下运行：

```bash
python main.py
```

## 使用说明

### 资源提取

1. 选择输入文件/文件夹和输出文件夹
2. 在 "资源类型" 中勾选要提取的资源类型，包括 Live2D Cubism models
3. 如需打包输出，勾选 "提取选项" 中的 "打包输出 (ZIP)"
4. 选择要使用的 AssetStudio 版本
5. 点击 "提取资源" 按钮开始提取
6. 提取完成后，您可以在输出文件夹中查看提取的资源

### 音频文件提取

1. 点击 "添加文件" 或 "添加文件夹" 按钮添加要转换的 .b 文件
2. 点击 "浏览..." 按钮选择转换后文件的保存位置
3. 在 "输出格式" 下拉菜单中选择要转换的音频格式
4. 点击 "开始转换" 按钮开始转换
5. 转换完成后会显示转换结果

### 静态立绘合成工具

1. 设置 .PNG 文件夹、Painting 文件夹和输出文件夹
2. 点击 "处理立绘文件" 按钮开始处理
3. 处理完成后，会询问是否回滚操作
4. 可以使用 "一键拼装" 工具进行立绘拼装

### 设置

1. 可以设置背景类型（本地图片或默认背景）
2. 可以设置背景图片、透明度和模糊度
3. 可以设置窗口置顶
4. 可以查看免责声明

## 注意事项

1. 首次使用时，请确保已安装所有必要的依赖（从源代码运行时）
2. 使用音频提取功能时，请确保 VgmStream 工具存在于项目目录的 VgmStream 文件夹中
3. 使用静态立绘合成工具时，请确保相关工具文件存在
4. 操作前请备份重要文件，以防止意外情况发生
5. 如遇到问题，请参考每个功能标签页下方的使用说明

## 技术栈

- Python 3.7+
- PyQt5
- VgmStream
- AssetStudio
- bilan-add-V2.0

## 免责声明

- 本应用仅为学习使用，不得用于任何商业目的
- 下载后请在24小时内删除，如有侵权请联系作者
- 使用本应用产生的任何后果，作者不承担任何责任
- 请确保在使用本应用时遵守相关法律法规
- 本应用仅提供文件处理功能，不保证所有文件都能成功处理
- 仅为集成大佬们的项目

## 作者
- 作者：[None](https://github.com/Rj16hNone)

## 各项技术源自：
- VgmStream（作者主页：https://github.com/vgmstream/vgmstream）
- AssetStudio（作者主页：https://github.com/Razviar/assetstudio）
- bilan-add-V2.0（作者主页：https://gitee.com/chiyaun/bilan-add